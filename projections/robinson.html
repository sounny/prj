<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Robinson Projection — PRJ CRS Clearinghouse</title>
  <meta name="description" content="Complete GIS reference for the Robinson map projection: WKT-1, WKT-2, ESRI WKT (WKID 54030), PROJ string, .prj file, JSON definition, D3 visualization, and scholarly history." />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="../css/style.css" />
  <link rel="stylesheet" href="../css/detail.css" />
  <!-- D3.js and TopoJSON for Interactive Map -->
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <script src="https://d3js.org/d3-geo-projection.v4.min.js"></script>
  <script src="https://unpkg.com/topojson@3"></script>
  <style>
    /* Robinson-specific preview tweak: full-width single map */
    .preview-canvas-robin { width: 100%; height: 340px; display: block; }
    .robinson-table-wrap { overflow-x: auto; padding: 0 20px 20px; }
    .robinson-table { width: 100%; border-collapse: collapse; font-size: 0.8rem; font-family: var(--font-mono); }
    .robinson-table th { color: var(--clr-accent-3); text-align: center; padding: 6px 10px; border-bottom: 1px solid var(--clr-border); font-weight: 500; }
    .robinson-table td { text-align: center; padding: 5px 10px; color: var(--clr-text-2); border-bottom: 1px solid rgba(255,255,255,0.04); }
    .robinson-table tr:hover td { background: rgba(99,130,255,0.05); color: var(--clr-text); }
    .robinson-table .lat-col { color: var(--clr-accent-2); font-weight: 500; }
    .esri-badge { display: inline-flex; align-items: center; gap: 6px; background: rgba(52,211,153,0.12); border: 1px solid rgba(52,211,153,0.3); color: #34d399; border-radius: 20px; padding: 3px 10px; font-size: 0.75rem; font-weight: 600; margin-left: 8px; }
    .proj-chip-robin { background: rgba(251,191,36,0.12); border: 1px solid rgba(251,191,36,0.3); color: #fbbf24; }
  </style>
</head>
<body>
  <!-- Navigation -->
  <nav class="nav" id="main-nav">
    <div class="nav-inner">
      <a href="../index.html" class="nav-logo">
        <span class="nav-logo-icon">⬡</span>
        <span class="nav-logo-text">PRJ</span>
        <span class="nav-logo-sub">CRS Clearinghouse</span>
      </a>
      <div class="nav-links">
        <a href="../index.html" class="nav-link">Browse</a>
        <a href="../index.html#about" class="nav-link">About</a>
        <a href="https://github.com/sounny/prj" class="nav-link nav-link-gh" target="_blank" rel="noopener">GitHub</a>
      </div>
    </div>
  </nav>

  <!-- Detail Hero -->
  <header class="detail-hero">
    <div class="container">
      <div class="detail-breadcrumb">
        <a href="../index.html">Browse</a> › <a href="../index.html?filter=pseudocylindrical">Pseudocylindrical</a> › Robinson
      </div>
      <div class="detail-title-row">
        <div>
          <h1 class="detail-title">Robinson <span class="esri-badge">✅ ESRI 54030</span></h1>
          <p class="detail-subtitle">Pseudocylindrical · Compromise · World · 1963 · PROJ alias: <code>robin</code></p>
          <div class="detail-tags">
            <span class="proj-tag">Pseudocylindrical</span>
            <span class="proj-tag tag-compromise">Compromise</span>
            <span class="proj-tag" style="background:rgba(52,211,153,0.15);border-color:rgba(52,211,153,0.3);color:#34d399;">ArcGIS Ready</span>
          </div>
          <div class="detail-actions">
            <button class="btn btn-primary" id="download-prj-btn" onclick="downloadPRJ()">⬇ Download .prj</button>
            <a href="https://proj.org/en/stable/operations/projections/robin.html" class="btn btn-secondary" target="_blank" rel="noopener">PROJ Docs ↗</a>
            <a href="https://en.wikipedia.org/wiki/Robinson_projection" class="btn btn-secondary" target="_blank" rel="noopener">Wikipedia ↗</a>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <div class="container detail-layout">

    <!-- ── Left Column ── -->
    <div class="detail-main">

      <!-- D3 Visualization Panel -->
      <div class="preview-panel">
        <div class="preview-header">
          <h3>Interactive Projection Preview</h3>
          <div class="preview-controls">
            <button class="preview-btn active" id="btn-lon0" onclick="setLon(0)">0° Central</button>
            <button class="preview-btn" id="btn-lon90" onclick="setLon(90)">90°E Central</button>
            <button class="preview-btn" id="btn-lon-90" onclick="setLon(-90)">90°W Central</button>
            <button class="preview-btn" id="btn-tissot" onclick="toggleTissot()">Tissot</button>
          </div>
        </div>
        <svg id="main-preview" class="preview-canvas" viewBox="-560 -300 1120 600" xmlns="http://www.w3.org/2000/svg">
          <!-- Rendered by JS -->
        </svg>
        <div class="distortion-legend">
          <span>Distortion:</span>
          <div class="legend-gradient"></div>
          <span>Low → High</span>
          <span style="margin-left:16px; color: rgba(99,130,255,0.6)">● Tissot Indicatrix at 30° intervals</span>
        </div>
        <div class="preview-caption">
          Robinson Projection · WGS84 Sphere (R = 6,371 km) · 15° graticule · Tissot indicatrices at 30° intervals
        </div>
      </div>

      <!-- Quick Info Grid -->
      <div class="info-grid">
        <div class="info-card">
          <div class="info-card-label">ESRI WKID</div>
          <div class="info-card-value" style="color: #34d399">54030 (World_Robinson)</div>
        </div>
        <div class="info-card">
          <div class="info-card-label">PROJ Alias</div>
          <div class="info-card-value mono">+proj=robin</div>
        </div>
        <div class="info-card">
          <div class="info-card-label">Year Created</div>
          <div class="info-card-value">1963 (Arthur H. Robinson)</div>
        </div>
        <div class="info-card">
          <div class="info-card-label">Commissioned By</div>
          <div class="info-card-value">Rand McNally</div>
        </div>
        <div class="info-card">
          <div class="info-card-label">Classification</div>
          <div class="info-card-value">Pseudocylindrical · Compromise</div>
        </div>
        <div class="info-card">
          <div class="info-card-label">Domain</div>
          <div class="info-card-value">World (whole-globe map)</div>
        </div>
        <div class="info-card">
          <div class="info-card-label">Formulation</div>
          <div class="info-card-value">Tabular (empirical lookup table)</div>
        </div>
        <div class="info-card">
          <div class="info-card-label">Properties</div>
          <div class="info-card-value">Not conformal · Not equal-area · Not equidistant</div>
        </div>
      </div>

      <!-- Format Tabs -->
      <div class="format-section">
        <h2>Projection Definitions</h2>
        <div class="tab-bar" id="tab-bar" role="tablist">
          <button class="tab-btn active" data-tab="wkt1-html" role="tab">WKT-1 (Readable)</button>
          <button class="tab-btn" data-tab="wkt1-ogc" role="tab">OGC WKT-1</button>
          <button class="tab-btn" data-tab="wkt2-html" role="tab">WKT-2 (Readable)</button>
          <button class="tab-btn" data-tab="wkt2-ogc" role="tab">OGC WKT-2</button>
          <button class="tab-btn" data-tab="esri-wkt" role="tab">ESRI WKT ✅</button>
          <button class="tab-btn" data-tab="prj" role="tab">.PRJ ✅</button>
          <button class="tab-btn" data-tab="proj" role="tab">PROJ String</button>
          <button class="tab-btn" data-tab="json" role="tab">JSON</button>
        </div>
        <div class="tab-content">

          <!-- WKT-1 Human Readable -->
          <div class="tab-pane active" id="tab-wkt1-html">
            <div class="human-readable-block">
              <p class="tab-desc">OGC Well-Known Text version 1 (ISO 19125), formatted for human readability. Compatible with GDAL, QGIS, and all ISO 19125-compliant GIS tools.</p>
              <table class="hr-table">
                <tr><td>Projection Name</td><td>World_Robinson</td></tr>
                <tr><td>Geographic CRS</td><td>GCS_WGS_1984</td></tr>
                <tr><td>Datum</td><td>D_WGS_1984</td></tr>
                <tr><td>Spheroid</td><td>WGS_1984 — semi-major axis 6,378,137 m · inverse flattening 298.257223563</td></tr>
                <tr><td>Prime Meridian</td><td>Greenwich (0°)</td></tr>
                <tr><td>Projection Method</td><td>Robinson (pseudocylindrical, compromise)</td></tr>
                <tr><td>Central Meridian</td><td>0° (Greenwich)</td></tr>
                <tr><td>False Easting</td><td>0.0 m</td></tr>
                <tr><td>False Northing</td><td>0.0 m</td></tr>
                <tr><td>Linear Unit</td><td>Meter (1.0)</td></tr>
                <tr><td>Angular Unit</td><td>Degree (0.01745329251994328)</td></tr>
              </table>
            </div>
            <div class="code-block-wrap">
              <button class="copy-btn" onclick="copyCode('code-wkt1-html')">Copy</button>
              <pre class="code-block" id="code-wkt1-html">PROJCS["World_Robinson",
  GEOGCS["GCS_WGS_1984",
    DATUM["D_WGS_1984",
      SPHEROID["WGS_1984", 6378137.0, 298.257223563]
    ],
    PRIMEM["Greenwich", 0.0],
    UNIT["Degree", 0.0174532925199433]
  ],
  PROJECTION["Robinson"],
  PARAMETER["Central_Meridian", 0.0],
  PARAMETER["False_Easting", 0.0],
  PARAMETER["False_Northing", 0.0],
  UNIT["Meter", 1.0]
]</pre>
            </div>
          </div>

          <!-- WKT-1 OGC -->
          <div class="tab-pane" id="tab-wkt1-ogc">
            <div class="human-readable-block">
              <p class="tab-desc">Machine-readable OGC WKT-1 (single line). Paste directly into GDAL, QGIS, or any ISO 19125-compatible tool.</p>
            </div>
            <div class="code-block-wrap">
              <button class="copy-btn" onclick="copyCode('code-wkt1-ogc')">Copy</button>
              <pre class="code-block" id="code-wkt1-ogc">PROJCS["World_Robinson",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Robinson"],PARAMETER["Central_Meridian",0.0],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],UNIT["Meter",1.0]]</pre>
            </div>
          </div>

          <!-- WKT-2 Human Readable -->
          <div class="tab-pane" id="tab-wkt2-html">
            <div class="human-readable-block">
              <p class="tab-desc">ISO 19162:2019 Well-Known Text version 2 (WKT-2), formatted for readability. The modern standard with improved structure and explicit authority codes.</p>
              <table class="hr-table">
                <tr><td>Standard</td><td>ISO 19162:2019 (WKT-2)</td></tr>
                <tr><td>Projected CRS Name</td><td>World Robinson</td></tr>
                <tr><td>Base Geographic CRS</td><td>WGS 84 (EPSG:4326)</td></tr>
                <tr><td>Ellipsoid</td><td>WGS 84 — 6,378,137 m · inv. flat. 298.257223563</td></tr>
                <tr><td>Prime Meridian</td><td>Greenwich (0°)</td></tr>
                <tr><td>Conversion Method</td><td>Robinson (PROJ alias: robin)</td></tr>
                <tr><td>Central Meridian</td><td>0° [EPSG:8802]</td></tr>
                <tr><td>False Easting</td><td>0 m [EPSG:8806]</td></tr>
                <tr><td>False Northing</td><td>0 m [EPSG:8807]</td></tr>
                <tr><td>Coordinate System</td><td>Cartesian 2D</td></tr>
                <tr><td>Axis 1</td><td>Easting (E), east, Order 1</td></tr>
                <tr><td>Axis 2</td><td>Northing (N), north, Order 2</td></tr>
                <tr><td>Linear Unit</td><td>Metre (1.0)</td></tr>
              </table>
            </div>
            <div class="code-block-wrap">
              <button class="copy-btn" onclick="copyCode('code-wkt2-html')">Copy</button>
              <pre class="code-block" id="code-wkt2-html">PROJCRS["World Robinson",
  BASEGEOGCRS["WGS 84",
    DATUM["World Geodetic System 1984",
      ELLIPSOID["WGS 84", 6378137, 298.257223563,
        LENGTHUNIT["metre", 1]]
    ],
    PRIMEM["Greenwich", 0,
      ANGLEUNIT["degree", 0.0174532925199433]],
    ID["EPSG", 4326]
  ],
  CONVERSION["Robinson",
    METHOD["Robinson",
      ID["PROJ", "robin"]],
    PARAMETER["Longitude of natural origin", 0,
      ANGLEUNIT["degree", 0.0174532925199433],
      ID["EPSG", 8802]],
    PARAMETER["False easting", 0,
      LENGTHUNIT["metre", 1],
      ID["EPSG", 8806]],
    PARAMETER["False northing", 0,
      LENGTHUNIT["metre", 1],
      ID["EPSG", 8807]]
  ],
  CS[Cartesian, 2],
    AXIS["(E)", east,
      ORDER[1],
      LENGTHUNIT["metre", 1]],
    AXIS["(N)", north,
      ORDER[2],
      LENGTHUNIT["metre", 1]]
]</pre>
            </div>
          </div>

          <!-- WKT-2 OGC -->
          <div class="tab-pane" id="tab-wkt2-ogc">
            <div class="human-readable-block">
              <p class="tab-desc">Machine-readable ISO 19162:2019 WKT-2 (single line). Compatible with PROJ 6+, GDAL 3+, and modern GIS software.</p>
            </div>
            <div class="code-block-wrap">
              <button class="copy-btn" onclick="copyCode('code-wkt2-ogc')">Copy</button>
              <pre class="code-block" id="code-wkt2-ogc">PROJCRS["World Robinson",BASEGEOGCRS["WGS 84",DATUM["World Geodetic System 1984",ELLIPSOID["WGS 84",6378137,298.257223563,LENGTHUNIT["metre",1]]],PRIMEM["Greenwich",0,ANGLEUNIT["degree",0.0174532925199433]],ID["EPSG",4326]],CONVERSION["Robinson",METHOD["Robinson",ID["PROJ","robin"]],PARAMETER["Longitude of natural origin",0,ANGLEUNIT["degree",0.0174532925199433],ID["EPSG",8802]],PARAMETER["False easting",0,LENGTHUNIT["metre",1],ID["EPSG",8806]],PARAMETER["False northing",0,LENGTHUNIT["metre",1],ID["EPSG",8807]]],CS[Cartesian,2],AXIS["(E)",east,ORDER[1],LENGTHUNIT["metre",1]],AXIS["(N)",north,ORDER[2],LENGTHUNIT["metre",1]]]</pre>
            </div>
          </div>

          <!-- ESRI WKT -->
          <div class="tab-pane" id="tab-esri-wkt">
            <div class="compat-success">
              <span class="compat-icon">✅</span>
              <div>
                <strong>ArcGIS Pro &amp; ArcMap — Fully Supported</strong> — Robinson is registered in the ESRI Projection Engine as <strong>WKID 54030</strong> (<code>World_Robinson</code>). This string will apply correctly. You can also find it in ArcGIS Pro by searching for <em>"Robinson"</em> or entering WKID <em>54030</em> in the Coordinate System picker.
              </div>
            </div>
            <div class="human-readable-block">
              <table class="hr-table">
                <tr><td>Format</td><td>ESRI WKT</td></tr>
                <tr><td>ESRI WKID</td><td style="color: #34d399; font-weight: 600">54030</td></tr>
                <tr><td>Projection Name</td><td>World_Robinson</td></tr>
                <tr><td>Geographic CRS</td><td>GCS_WGS_1984</td></tr>
                <tr><td>Datum</td><td>D_WGS_1984</td></tr>
                <tr><td>Spheroid</td><td>WGS_1984 — 6,378,137.0 m · inv. flat. 298.257223563</td></tr>
                <tr><td>Prime Meridian</td><td>Greenwich (0.0°)</td></tr>
                <tr><td>Central_Meridian</td><td>0.0°</td></tr>
                <tr><td>False_Easting</td><td>0.0 m</td></tr>
                <tr><td>False_Northing</td><td>0.0 m</td></tr>
                <tr><td>Linear Unit</td><td>Meter (1.0)</td></tr>
                <tr><td>ArcGIS Pro</td><td style="color: #34d399">✅ Fully supported (WKID 54030)</td></tr>
                <tr><td>ArcMap</td><td style="color: #34d399">✅ Fully supported (WKID 54030)</td></tr>
              </table>
            </div>
            <div class="code-block-wrap">
              <button class="copy-btn" onclick="copyCode('code-esri-wkt')">Copy</button>
              <pre class="code-block" id="code-esri-wkt">PROJCS["World_Robinson",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Robinson"],PARAMETER["Central_Meridian",0.0],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],UNIT["Meter",1.0]]</pre>
            </div>
          </div>

          <!-- PRJ -->
          <div class="tab-pane" id="tab-prj">
            <div class="compat-success">
              <span class="compat-icon">✅</span>
              <div>
                <strong>ArcGIS Pro, ArcMap, QGIS, GDAL — All Compatible</strong> — Robinson is fully registered in the ESRI Projection Engine (WKID 54030). This <code>.prj</code> file will apply correctly in all major GIS applications without any workarounds.
              </div>
            </div>
            <div class="human-readable-block">
              <p class="tab-desc">Shapefile projection file (<code>.prj</code>) — plain-text WKT-1 stored alongside <code>.shp</code>, <code>.dbf</code>, and <code>.shx</code> files. Save as <code>robinson.prj</code> in the same directory as your shapefile.</p>
              <table class="hr-table">
                <tr><td>Filename</td><td>robinson.prj</td></tr>
                <tr><td>Format</td><td>Plain text, WKT-1 (single line, no whitespace)</td></tr>
                <tr><td>ESRI WKID</td><td style="color:#34d399">54030 (World_Robinson)</td></tr>
                <tr><td>Works in</td><td>ArcGIS Pro · ArcMap · QGIS · GDAL · MapInfo · Global Mapper</td></tr>
                <tr><td>Encoding</td><td>UTF-8 (ASCII-safe)</td></tr>
              </table>
            </div>
            <div class="code-block-wrap">
              <button class="copy-btn" onclick="copyCode('code-prj')">Copy</button>
              <pre class="code-block" id="code-prj">PROJCS["World_Robinson",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Robinson"],PARAMETER["Central_Meridian",0.0],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],UNIT["Meter",1.0]]</pre>
            </div>
            <div style="padding: 12px 20px; border-top: 1px solid var(--clr-border);">
              <button class="btn btn-primary" onclick="downloadPRJ()">⬇ Download robinson.prj</button>
            </div>
          </div>

          <!-- PROJ String -->
          <div class="tab-pane" id="tab-proj">
            <div class="human-readable-block">
              <p class="tab-desc">PROJ projection string. Robinson is natively supported via the <code>+proj=robin</code> alias. Works in GDAL, QGIS, Python (pyproj), R (sf), and command-line tools.</p>
              <table class="hr-table">
                <tr><td>PROJ Alias</td><td>robin</td></tr>
                <tr><td>Minimum PROJ Version</td><td>PROJ 4.x (long-standing support)</td></tr>
                <tr><td>+lon_0</td><td>0 — Central meridian (degrees)</td></tr>
                <tr><td>+R</td><td>6371000 — Sphere radius (meters)</td></tr>
                <tr><td>+x_0</td><td>0 — False easting (meters)</td></tr>
                <tr><td>+y_0</td><td>0 — False northing (meters)</td></tr>
                <tr><td>+units</td><td>m — Output units (meters)</td></tr>
                <tr><td>Interpolation</td><td>Cubic spline over built-in lookup table (5° intervals)</td></tr>
                <tr><td>Domain</td><td>World (whole globe; meaningful for all longitudes)</td></tr>
              </table>
            </div>
            <div class="code-block-wrap">
              <button class="copy-btn" onclick="copyCode('code-proj')">Copy</button>
              <pre class="code-block" id="code-proj">+proj=robin +lon_0=0 +R=6371000 +x_0=0 +y_0=0 +units=m +no_defs</pre>
            </div>
            <div class="human-readable-block" style="border-top: 1px solid var(--clr-border);">
              <p class="tab-desc" style="margin-top:0"><strong>Usage examples:</strong></p>
              <pre class="code-block" style="background: var(--clr-bg); border-radius: var(--radius-sm); margin-top: 8px;"># GDAL — reproject a shapefile to Robinson
ogr2ogr -t_srs "+proj=robin +lon_0=0 +R=6371000" robinson_out.shp input_wgs84.shp

# Python (pyproj)
from pyproj import Proj
p = Proj(proj='robin', lon_0=0, R=6371000)
x, y = p(-90, 45)   # longitude, latitude → projected coords

# R (sf package)
library(sf)
st_transform(my_sf, crs = "+proj=robin +lon_0=0 +R=6371000")

# QGIS — in the CRS dialog, paste:
# +proj=robin +lon_0=0 +R=6371000 +x_0=0 +y_0=0
# Or search for WKID 54030 → World_Robinson</pre>
            </div>
          </div>

          <!-- JSON -->
          <div class="tab-pane" id="tab-json">
            <div class="human-readable-block">
              <p class="tab-desc">Structured JSON CRS definition with complete projection metadata. Suitable for web mapping APIs, data pipelines, and documentation systems.</p>
            </div>
            <div class="code-block-wrap">
              <button class="copy-btn" onclick="copyCode('code-json')">Copy</button>
              <pre class="code-block" id="code-json">{
  "type": "ProjectedCRS",
  "name": "World Robinson",
  "id": {
    "authority": "ESRI",
    "code": 54030
  },
  "baseGeographicCRS": {
    "type": "GeographicCRS",
    "name": "WGS 84",
    "datum": {
      "type": "GeodeticReferenceFrame",
      "name": "World Geodetic System 1984",
      "ellipsoid": {
        "name": "WGS 84",
        "semiMajorAxis": 6378137.0,
        "inverseFlattening": 298.257223563
      }
    },
    "primeMeridian": { "name": "Greenwich", "longitude": 0 },
    "coordinateSystem": {
      "subtype": "ellipsoidal",
      "axis": [
        { "name": "Geodetic latitude",  "abbreviation": "Lat", "direction": "north", "unit": "degree" },
        { "name": "Geodetic longitude", "abbreviation": "Lon", "direction": "east",  "unit": "degree" }
      ]
    }
  },
  "conversion": {
    "name": "Robinson",
    "method": { "name": "Robinson", "projAlias": "robin" },
    "parameters": [
      { "name": "Longitude of natural origin", "value": 0, "unit": "degree" },
      { "name": "False easting",               "value": 0, "unit": "metre"  },
      { "name": "False northing",              "value": 0, "unit": "metre"  }
    ]
  },
  "coordinateSystem": {
    "subtype": "Cartesian",
    "axis": [
      { "name": "Easting",  "abbreviation": "E", "direction": "east",  "unit": "metre" },
      { "name": "Northing", "abbreviation": "N", "direction": "north", "unit": "metre" }
    ]
  },
  "projString": "+proj=robin +lon_0=0 +R=6371000 +x_0=0 +y_0=0",
  "metadata": {
    "inventor": "Arthur H. Robinson",
    "yearInvented": 1963,
    "commissionedBy": "Rand McNally",
    "formulation": "Tabular (empirical lookup table, 5° intervals)",
    "classification": ["pseudocylindrical", "compromise"],
    "domain": "World",
    "conformal": false,
    "equalArea": false,
    "equidistant": false,
    "esriWKID": 54030,
    "epsg": null,
    "projUrl": "https://proj.org/en/stable/operations/projections/robin.html",
    "wikiUrl": "https://en.wikipedia.org/wiki/Robinson_projection"
  }
}</pre>
            </div>
          </div>

        </div><!-- /tab-content -->
      </div><!-- /format-section -->

      <!-- History -->
      <div class="prose-section">
        <h2>History</h2>
        <p>Arthur H. Robinson (1915–2004), Professor of Cartography at the University of Wisconsin–Madison, developed the Robinson projection in 1963 at the direct request of the Rand McNally cartographic company. Rand McNally sought a world map projection suitable for a general-audience wall map — one that would look aesthetically pleasing while keeping distortions of area and shape at acceptable levels across all inhabited land masses.</p>
        <p>Robinson's design process was unusual in the history of cartography: rather than beginning with a mathematical formulation, he worked empirically, manually adjusting the appearance of the map until it achieved what he considered the best visual balance, then derived the defining table from that result. He published the tabular formulation in 1974 in the <em>International Yearbook of Cartography</em>. The projection was occasionally called the "Orthophanic" (meaning "right-appearing") projection.</p>
        <p>The National Geographic Society (NGS) adopted the Robinson projection in 1988 as its standard world map projection, replacing the Van der Grinten projection. Its elliptical outline and gently curved meridians became a defining visual of late 20th-century world maps, particularly in American educational materials. In 1998, the NGS transitioned to the Winkel Tripel projection, which it determined produced lower distortion at high latitudes. Robinson died in 2004 at the age of 89.</p>
        <p>Despite being superseded at NGS, the Robinson projection remains in active use: the CIA World Factbook uses it for its political and physical world maps, and the European Centre for Disease Prevention and Control (ECDC) explicitly recommends it for whole-world disease-distribution maps.</p>
        <blockquote style="border-left: 3px solid var(--clr-accent); padding: 0 0 0 16px; margin: 20px 0; color: var(--clr-text-2); font-style: italic;">
          "I decided to go about it backwards. … I started with a kind of artistic approach. I visualized the best-looking shapes and sizes. I worked with the variables until it got to the point where, if I changed one of them, it didn't get any better. Then I figured out the mathematical formula to produce that effect. Most mapmakers start with the mathematics."
          <footer style="margin-top: 8px; font-size: 0.85rem; color: var(--clr-text-3); font-style: normal;">— Arthur H. Robinson, <em>New York Times</em>, 1988</footer>
        </blockquote>
      </div>

      <!-- Description & Construction -->
      <div class="prose-section">
        <h2>Description &amp; Construction</h2>
        <p>The Robinson projection is a <strong>pseudocylindrical</strong> world map projection. Parallels are straight, equally spaced horizontal lines. Meridians are equally spaced along each parallel, but the spacing varies by latitude — compressed toward the poles, giving the meridians a gentle curve. The projection does not preserve angles (not conformal), areas (not equal-area), or distances (not equidistant); it is a <strong>compromise</strong> designed to minimize the visual impact of all three types of distortion across populated areas.</p>
        <p>Distortion is relatively low in the mid-latitudes but increases significantly near the poles, which are depicted as lines rather than points — a distortion inherent to all pseudocylindrical projections. The characteristic "barrel" shape of the projection envelope is one of its most recognizable features.</p>
        <p>The forward projection is computed from a tabular lookup:</p>
        <ul>
          <li>For a given latitude φ, interpolate X(φ) and Y(φ) from the 5° table using cubic spline interpolation.</li>
          <li>Compute x = 0.8487 · R · X(φ) · (λ − λ₀)</li>
          <li>Compute y = 1.3523 · R · Y(φ)</li>
        </ul>
        <p>X values control the width of each parallel relative to the equator. Y values control the height of each parallel above the equator. Both are normalized to the equator length.</p>
      </div>

      <!-- Mathematical Formulae -->
      <div class="prose-section">
        <h2>Mathematical Formulae</h2>
        <p>The forward projection equations, where <em>φ</em> is latitude, <em>λ</em> is longitude, <em>λ₀</em> is the central longitude, and <em>R</em> is the sphere radius:</p>
        <div class="math-block">
<span class="math-var">x</span> <span class="math-op">=</span> <span class="math-num">0.8487</span> · R · X(φ) · (λ <span class="math-op">−</span> λ₀)
<span class="math-var">y</span> <span class="math-op">=</span> <span class="math-num">1.3523</span> · R · Y(φ)</div>

        <p>The constants 0.8487 and 1.3523 were empirically chosen to achieve the desired map aspect ratio. The ratio 1.3523 / (0.8487 · 2π) ≈ 0.2536, which is the conversion factor from Y table values to the normalized equator-length unit.</p>

        <h3>Robinson Lookup Table</h3>
        <p>The following table defines the projection at 5° latitude intervals. Values for intermediate latitudes are obtained by cubic spline interpolation. The sign of Y is the same as the sign of latitude (negative in the southern hemisphere).</p>
        <div class="robinson-table-wrap">
          <table class="robinson-table">
            <thead>
              <tr><th>Latitude (φ)</th><th>X (parallel ratio)</th><th>Y (distance ratio)</th></tr>
            </thead>
            <tbody>
              <tr><td class="lat-col">0°</td><td>1.0000</td><td>0.0000</td></tr>
              <tr><td class="lat-col">±5°</td><td>0.9986</td><td>0.0620</td></tr>
              <tr><td class="lat-col">±10°</td><td>0.9954</td><td>0.1240</td></tr>
              <tr><td class="lat-col">±15°</td><td>0.9900</td><td>0.1860</td></tr>
              <tr><td class="lat-col">±20°</td><td>0.9822</td><td>0.2480</td></tr>
              <tr><td class="lat-col">±25°</td><td>0.9730</td><td>0.3100</td></tr>
              <tr><td class="lat-col">±30°</td><td>0.9600</td><td>0.3720</td></tr>
              <tr><td class="lat-col">±35°</td><td>0.9427</td><td>0.4340</td></tr>
              <tr><td class="lat-col">±40°</td><td>0.9216</td><td>0.4958</td></tr>
              <tr><td class="lat-col">±45°</td><td>0.8962</td><td>0.5571</td></tr>
              <tr><td class="lat-col">±50°</td><td>0.8679</td><td>0.6176</td></tr>
              <tr><td class="lat-col">±55°</td><td>0.8350</td><td>0.6769</td></tr>
              <tr><td class="lat-col">±60°</td><td>0.7986</td><td>0.7346</td></tr>
              <tr><td class="lat-col">±65°</td><td>0.7597</td><td>0.7903</td></tr>
              <tr><td class="lat-col">±70°</td><td>0.7186</td><td>0.8435</td></tr>
              <tr><td class="lat-col">±75°</td><td>0.6732</td><td>0.8936</td></tr>
              <tr><td class="lat-col">±80°</td><td>0.6213</td><td>0.9394</td></tr>
              <tr><td class="lat-col">±85°</td><td>0.5722</td><td>0.9761</td></tr>
              <tr><td class="lat-col">±90°</td><td>0.5322</td><td>1.0000</td></tr>
            </tbody>
          </table>
        </div>
      </div>

    </div><!-- /detail-main -->

    <!-- ── Right Column: Sidebar ── -->
    <aside class="detail-sidebar">

      <!-- Downloads -->
      <div class="sidebar-card">
        <h3>Downloads</h3>
        <div class="download-list">
          <div class="download-item">
            <div>
              <div class="download-item-name">robinson.prj</div>
              <div class="download-item-size">Shapefile Projection File · ~180 B</div>
            </div>
            <button class="download-btn" onclick="downloadPRJ()">⬇</button>
          </div>
          <div class="download-item">
            <div>
              <div class="download-item-name">robinson_wkt2.txt</div>
              <div class="download-item-size">ISO 19162:2019 WKT-2 · ~500 B</div>
            </div>
            <button class="download-btn" onclick="downloadWKT2()">⬇</button>
          </div>
          <div class="download-item">
            <div>
              <div class="download-item-name">robinson.json</div>
              <div class="download-item-size">JSON CRS Definition · ~1.2 KB</div>
            </div>
            <button class="download-btn" onclick="downloadJSON()">⬇</button>
          </div>
        </div>
      </div>

      <!-- Key Parameters -->
      <div class="sidebar-card">
        <h3>Key Parameters</h3>
        <div class="sidebar-dl">
          <div class="sidebar-dl-item">
            <span class="sidebar-dl-label">ESRI WKID</span>
            <span class="sidebar-dl-value" style="color:#34d399;font-weight:600">54030</span>
          </div>
          <div class="sidebar-dl-item">
            <span class="sidebar-dl-label">EPSG Code</span>
            <span class="sidebar-dl-value">None (not registered)</span>
          </div>
          <div class="sidebar-dl-item">
            <span class="sidebar-dl-label">PROJ Alias</span>
            <span class="sidebar-dl-value" style="font-family:var(--font-mono)">robin</span>
          </div>
          <div class="sidebar-dl-item">
            <span class="sidebar-dl-label">Sphere Radius</span>
            <span class="sidebar-dl-value">6,371,000 m</span>
          </div>
          <div class="sidebar-dl-item">
            <span class="sidebar-dl-label">Central Meridian</span>
            <span class="sidebar-dl-value">0° (configurable)</span>
          </div>
          <div class="sidebar-dl-item">
            <span class="sidebar-dl-label">False Easting</span>
            <span class="sidebar-dl-value">0 m</span>
          </div>
          <div class="sidebar-dl-item">
            <span class="sidebar-dl-label">False Northing</span>
            <span class="sidebar-dl-value">0 m</span>
          </div>
          <div class="sidebar-dl-item">
            <span class="sidebar-dl-label">Conformal</span>
            <span class="sidebar-dl-value">No</span>
          </div>
          <div class="sidebar-dl-item">
            <span class="sidebar-dl-label">Equal-Area</span>
            <span class="sidebar-dl-value">No</span>
          </div>
          <div class="sidebar-dl-item">
            <span class="sidebar-dl-label">Equidistant</span>
            <span class="sidebar-dl-value">No</span>
          </div>
          <div class="sidebar-dl-item">
            <span class="sidebar-dl-label">Compromise</span>
            <span class="sidebar-dl-value">Yes</span>
          </div>
        </div>
      </div>

      <!-- References -->
      <div class="sidebar-card">
        <h3>References</h3>
        <ul class="ref-list">
          <li>Robinson, A.H. (1974). A New Map Projection. <em>International Yearbook of Cartography</em>, 14.</li>
          <li>Snyder, J.P. (1993). <em>Flattening the Earth</em>. Univ. of Chicago Press. pp. 214–216. <a href="https://press.uchicago.edu/ucp/books/book/chicago/F/bo3632853.html" target="_blank" rel="noopener">→</a></li>
          <li>Snyder, J.P. &amp; Voxland, P.M. (1989). <em>An Album of Map Projections</em>. USGS PP 1453. pp. 82–83. <a href="https://pubs.usgs.gov/pp/1453/report.pdf" target="_blank" rel="noopener">→</a></li>
          <li>Ipbuker, C. (2005). A Computational Approach to the Robinson Projection. <em>Survey Review</em>, 38(297). <a href="https://doi.org/10.1179/sre.2005.38.297.204" target="_blank" rel="noopener">→</a></li>
          <li>PROJ Contributors (2025). Robinson — PROJ 9.7.1 Docs. <a href="https://proj.org/en/stable/operations/projections/robin.html" target="_blank" rel="noopener">→</a></li>
        </ul>
      </div>

      <!-- See Also -->
      <div class="sidebar-card">
        <h3>See Also</h3>
        <ul class="ref-list">
          <li>Winkel Tripel — successor at National Geographic (1998)</li>
          <li>Van der Grinten — predecessor at National Geographic</li>
          <li>Kavrayskiy VII — similar pseudocylindrical compromise</li>
          <li>Natural Earth — modern successor, similar philosophy</li>
          <li><a href="https://en.wikipedia.org/wiki/List_of_map_projections" target="_blank" rel="noopener">List of Map Projections (Wikipedia) →</a></li>
        </ul>
      </div>

    </aside>
  </div><!-- /detail-layout -->

  <footer class="site-footer">
    <div class="container footer-inner">
      <p>PRJ Clearinghouse · <a href="https://sounny.github.io" target="_blank" rel="noopener">sounny.github.io</a> · Open data, open source.</p>
      <p class="footer-sub">Projection definitions sourced from PROJ, ESRI, and USGS Professional Paper 1453.</p>
    </div>
  </footer>

  <script src="../js/data.js"></script>
  <script>
    // ── Tab System ───────────────────────────────────────────────────────────
    document.querySelectorAll('.tab-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        const target = btn.dataset.tab;
        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
        document.querySelectorAll('.tab-pane').forEach(p => p.classList.remove('active'));
        btn.classList.add('active');
        document.getElementById('tab-' + target).classList.add('active');
      });
    });

    // ── Copy-to-Clipboard ────────────────────────────────────────────────────
    function copyCode(id) {
      const text = document.getElementById(id).innerText;
      navigator.clipboard.writeText(text).then(() => {
        const btn = document.querySelector(`[onclick="copyCode('${id}')"]`);
        if (btn) { btn.textContent = 'Copied!'; setTimeout(() => btn.textContent = 'Copy', 2000); }
      });
    }

    // ── Downloads ────────────────────────────────────────────────────────────
    function downloadFile(content, filename, type) {
      const blob = new Blob([content], { type });
      const a = document.createElement('a');
      a.href = URL.createObjectURL(blob);
      a.download = filename;
      a.click();
      URL.revokeObjectURL(a.href);
    }
    function downloadPRJ() {
      downloadFile(
        'PROJCS["World_Robinson",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Robinson"],PARAMETER["Central_Meridian",0.0],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],UNIT["Meter",1.0]]',
        'robinson.prj', 'text/plain'
      );
    }
    function downloadWKT2() {
      downloadFile(document.getElementById('code-wkt2-html').innerText, 'robinson_wkt2.txt', 'text/plain');
    }
    function downloadJSON() {
      downloadFile(document.getElementById('code-json').innerText, 'robinson.json', 'application/json');
    }

    // ── D3 Robinson Preview ──────────────────────────────────────────────────
    let currentLon0 = 0;
    let showTissot = false;
    let worldData = null;

    const svg = d3.select('#main-preview');
    const width = 1120, height = 600;

    function setLon(lon) {
      currentLon0 = lon;
      ['btn-lon0', 'btn-lon90', 'btn-lon-90'].forEach(id => {
        const el = document.getElementById(id);
        if (el) el.classList.remove('active');
      });
      const idMap = { 0: 'btn-lon0', 90: 'btn-lon90', '-90': 'btn-lon-90' };
      const activeId = idMap[String(lon)];
      if (activeId) document.getElementById(activeId)?.classList.add('active');
      renderMap();
    }

    function toggleTissot() {
      showTissot = !showTissot;
      document.getElementById('btn-tissot').classList.toggle('active', showTissot);
      renderMap();
    }

    function renderMap() {
      svg.selectAll('*').remove();
      const g = svg.append('g').attr('transform', `translate(${width / 2}, ${height / 2})`);

      const projection = d3.geoRobinson()
        .rotate([-currentLon0, 0])
        .scale(145)
        .translate([0, 0]);

      const path = d3.geoPath().projection(projection);

      // Sphere fill
      g.append('path')
        .datum({ type: 'Sphere' })
        .attr('d', path)
        .attr('fill', '#0d1117')
        .attr('stroke', '#6382ff')
        .attr('stroke-width', 0.8)
        .attr('opacity', 0.7);

      // Graticule
      const graticule = d3.geoGraticule().step([15, 15]);
      g.append('path')
        .datum(graticule())
        .attr('d', path)
        .attr('fill', 'none')
        .attr('stroke', 'rgba(99,130,255,0.18)')
        .attr('stroke-width', 0.5);

      // Countries
      if (worldData) {
        g.append('path')
          .datum(topojson.feature(worldData, worldData.objects.countries))
          .attr('d', path)
          .attr('fill', 'rgba(99,130,255,0.22)')
          .attr('stroke', 'rgba(99,130,255,0.5)')
          .attr('stroke-width', 0.4);
      }

      // Tissot indicatrices
      if (showTissot) {
        const tissotRadius = 5;
        for (let lat = -60; lat <= 60; lat += 30) {
          for (let lon = -150; lon <= 150; lon += 30) {
            const circle = d3.geoCircle().center([lon + currentLon0, lat]).radius(tissotRadius)();
            const color = Math.abs(lat) > 45 ? 'rgba(251,191,36,0.5)' :
                          Math.abs(lat) > 15 ? 'rgba(99,211,153,0.5)' : 'rgba(99,130,255,0.5)';
            g.append('path')
              .datum(circle)
              .attr('d', path)
              .attr('fill', color)
              .attr('stroke', 'rgba(255,255,255,0.3)')
              .attr('stroke-width', 0.4);
          }
        }
      }

      // Label
      g.append('text')
        .attr('y', -height / 2 + 22)
        .attr('text-anchor', 'middle')
        .attr('fill', 'rgba(99,130,255,0.5)')
        .attr('font-size', '11px')
        .attr('font-family', 'JetBrains Mono, monospace')
        .text(`D3.js d3.geoRobinson() · +proj=robin +lon_0=${currentLon0} · ESRI 54030`);
    }

    // Load world data and render
    fetch('https://cdn.jsdelivr.net/npm/world-atlas@2/countries-110m.json')
      .then(r => r.json())
      .then(data => { worldData = data; renderMap(); })
      .catch(() => renderMap());
  </script>
</body>
</html>
